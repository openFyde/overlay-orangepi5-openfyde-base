diff --git a/drivers/net/wireless/rockchip_wlan/rkwifi/bcmdhd/dhd_linux_platdev.c b/drivers/net/wireless/rockchip_wlan/rkwifi/bcmdhd/dhd_linux_platdev.c
index 21aaa1f7b1b8..ab678122d81d 100755
--- a/drivers/net/wireless/rockchip_wlan/rkwifi/bcmdhd/dhd_linux_platdev.c
+++ b/drivers/net/wireless/rockchip_wlan/rkwifi/bcmdhd/dhd_linux_platdev.c
@@ -1067,7 +1067,7 @@ static int dhd_wifi_platform_load_usb(void)
 }
 #endif /* BCMDBUS */
 
-static int dhd_wifi_platform_load()
+static int dhd_wifi_platform_load(void)
 {
 	int err = 0;
 	printf("%s: Enter\n", __FUNCTION__);
diff --git a/drivers/net/wireless/rtl8188eu/Makefile b/drivers/net/wireless/rtl8188eu/Makefile
index 8592a3adf589..050f1d51e745 100755
--- a/drivers/net/wireless/rtl8188eu/Makefile
+++ b/drivers/net/wireless/rtl8188eu/Makefile
@@ -9,13 +9,15 @@ EXTRA_CFLAGS += -Wno-unused-function
 EXTRA_CFLAGS += -Wno-unused
 EXTRA_CFLAGS += -Wno-vla
 EXTRA_CFLAGS += -Wno-date-time
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -238,10 +240,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_led.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2227,21 +2229,21 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 ########### HAL_RTL8822C #################################
 ifeq ($(CONFIG_RTL8822C), y)
-include $(src)/rtl8822c.mk
+include $(srctree)/$(src)/rtl8822c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.c
index cd3d62046712..5675441b7e6b 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.h
index 055856716c81..06ec247ceb34 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ap.h
@@ -16,42 +16,42 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8812F_SUPPORT == 1)
-	#include "halrf/rtl8812f/halrf_iqk_8812f.h"
-	#include "halrf/rtl8812f/halrf_dpk_8812f.h"
-	#include "halrf/rtl8812f/halrf_tssi_8812f.h"
+	#include "rtl8812f/halrf_iqk_8812f.h"
+	#include "rtl8812f/halrf_dpk_8812f.h"
+	#include "rtl8812f/halrf_tssi_8812f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.c
index 6290c43279b8..2c1451e2a7e4 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.h
index aff18edc5b7b..6fdfc1df14bb 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_ce.h
@@ -26,32 +26,32 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.c
index a357b4de0661..2ab8f02771cc 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.h
index e81c272de123..0265ad986b92 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_iot.h
@@ -26,20 +26,20 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.c
index c267715146a1..987728688f6f 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.h
index 4deea5715c14..8fc0a7a7d99b 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.c
index 412bed50c1ec..d031bf503e47 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.h
index 4e69d9c72aa6..c995f0307047 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf.h
@@ -29,31 +29,31 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #if (RTL8812F_SUPPORT == 1)
-#include "halrf/rtl8812f/halrf_rfk_init_8812f.h"
+#include "rtl8812f/halrf_rfk_init_8812f.h"
 #endif
 
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_debug.c
index 882cf0700a78..a578df404a3f 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_kfree.c
index f1502b862203..c60a6598d39f 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking.c
index fcbd1d244b09..49a6c17ce4d5 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ap.c
index a368ff8d24ac..cf298461f134 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ce.c
index 3bdf5abac0e3..97c2ab8389fe 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_iot.c
index c49d5473b9d8..b7ce746644c3 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_win.c
index 20ca0ad7f0df..e51af2a19742 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_psd.c
index cb256103051a..9c36cafd7bf3 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 u64 _sqrt(u64 x)
 {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
index 0c0fa4998b21..b20e21717106 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
index 9b5723005285..e179bbdfac32 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 /*---------------------------Define Local Constant---------------------------*/
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
index 4facb6508b98..c132fa01fe85 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #if RT_PLATFORM==PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/hal8188erateadaptive.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/hal8188erateadaptive.c
index 5fabc5a021a6..55638318b1d4 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/hal8188erateadaptive.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/hal8188erateadaptive.c
@@ -12,7 +12,7 @@
  * more details.
  *
  *****************************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_bb.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_bb.c
index be47b39b6a62..b6f18114bc9b 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_bb.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_bb.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_mac.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_mac.c
index 2045e363aef8..94c57480c864 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_mac.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_mac.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_rf.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_rf.c
index 632c80c2da85..ebb54c45536d 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_rf.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/halhwimg8188e_rf.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_regconfig8188e.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_regconfig8188e.c
index 530556e828c6..620fd9b3ff61 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_regconfig8188e.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_regconfig8188e.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_rtl8188e.c b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_rtl8188e.c
index 9e666d3a65c0..9d2d018e73fa 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_rtl8188e.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/rtl8188e/phydm_rtl8188e.c
@@ -17,7 +17,7 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8822b.c
index f25912a5e94e..d34ac0561378 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/phydm_hal_txbf_api.c
index bc65b6a3f028..87dc52d7ba57 100755
--- a/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8188eu/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8188eu/include/ieee80211.h b/drivers/net/wireless/rtl8188eu/include/ieee80211.h
index 9b93bd0ca7fd..0b3c6e7d11a1 100755
--- a/drivers/net/wireless/rtl8188eu/include/ieee80211.h
+++ b/drivers/net/wireless/rtl8188eu/include/ieee80211.h
@@ -1449,6 +1449,12 @@ enum ieee80211_state {
 	(((Addr[2]) & 0xff) == 0xff) && (((Addr[3]) & 0xff) == 0xff) && (((Addr[4]) & 0xff) == 0xff) && \
 				     (((Addr[5]) & 0xff) == 0xff))
 #else
+
+#define is_multicast_mac_addr(Addr) is_multicast_ether_addr(Addr)
+#define is_broadcast_mac_addr(Addr) is_broadcast_ether_addr(Addr)
+#define is_zero_mac_addr(Addr) is_zero_ether_addr(Addr)
+
+/*
 extern __inline int is_multicast_mac_addr(const u8 *addr)
 {
 	return (addr[0] != 0xff) && (0x01 & addr[0]);
@@ -1465,6 +1471,8 @@ extern __inline int is_zero_mac_addr(const u8 *addr)
 	return ((addr[0] == 0x00) && (addr[1] == 0x00) && (addr[2] == 0x00) &&   \
 		(addr[3] == 0x00) && (addr[4] == 0x00) && (addr[5] == 0x00));
 }
+*/
+
 #endif /* PLATFORM_FREEBSD */
 
 #define CFG_IEEE80211_RESERVE_FCS (1<<0)
diff --git a/drivers/net/wireless/rtl8188eu/include/rtw_recv.h b/drivers/net/wireless/rtl8188eu/include/rtw_recv.h
index 8acfd29a0cf7..a48af4664fc4 100755
--- a/drivers/net/wireless/rtl8188eu/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8188eu/include/rtw_recv.h
@@ -763,7 +763,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl8189es/Makefile b/drivers/net/wireless/rtl8189es/Makefile
index d5757274a3e5..5cd92ebc0128 100755
--- a/drivers/net/wireless/rtl8189es/Makefile
+++ b/drivers/net/wireless/rtl8189es/Makefile
@@ -7,6 +7,8 @@ EXTRA_CFLAGS += -O1
 #EXTRA_CFLAGS += -Wshadow -Wpointer-arith -Wcast-qual -Wstrict-prototypes -Wmissing-prototypes
 
 EXTRA_CFLAGS += -Wno-unused-variable
+XTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 #EXTRA_CFLAGS += -Wno-unused-value
 #EXTRA_CFLAGS += -Wno-unused-label
 #EXTRA_CFLAGS += -Wno-unused-parameter
@@ -19,7 +21,7 @@ ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -249,10 +251,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2200,26 +2202,26 @@ EXTRA_CFLAGS += $(USER_EXTRA_CFLAGS)
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 ########### HAL_RTL8822C #################################
 ifeq ($(CONFIG_RTL8822C), y)
-include $(src)/rtl8822c.mk
+include $(srctree)/$(src)/rtl8822c.mk
 endif
 
 ########### HAL_RTL8814B #################################
 ifeq ($(CONFIG_RTL8814B), y)
-include $(src)/rtl8814b.mk
+include $(srctree)/$(src)/rtl8814b.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.c
index 775b420367ce..6752f6a4ca0e 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.h
index b66bcbc4320e..10f95c8ad71c 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ap.h
@@ -16,48 +16,48 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8812F_SUPPORT == 1)
-	#include "halrf/rtl8812f/halrf_iqk_8812f.h"
-	#include "halrf/rtl8812f/halrf_dpk_8812f.h"
-	#include "halrf/rtl8812f/halrf_tssi_8812f.h"
+	#include "rtl8812f/halrf_iqk_8812f.h"
+	#include "rtl8812f/halrf_dpk_8812f.h"
+	#include "rtl8812f/halrf_tssi_8812f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 #if (RTL8197G_SUPPORT == 1)
-	#include "halrf/rtl8197g/halrf_iqk_8197g.h"
-	#include "halrf/rtl8197g/halrf_dpk_8197g.h"
-	#include "halrf/rtl8197g/halrf_tssi_8197g.h"
+	#include "rtl8197g/halrf_iqk_8197g.h"
+	#include "rtl8197g/halrf_dpk_8197g.h"
+	#include "rtl8197g/halrf_tssi_8197g.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.c
index 5ff9d74b1916..23d2614dbe5f 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.h
index 3e2e16a70fac..1c0f917a457a 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_ce.h
@@ -26,32 +26,32 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.c
index ef55944f3fc9..4babdf54de0f 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.h
index 8d4395a1f74d..7d70e016b9d8 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_iot.h
@@ -26,27 +26,27 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8710C_SUPPORT == 1)
-//	#include "halrf/rtl8710c/halrf.h"
-	#include "halrf/rtl8710c/halrf_iqk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_txgapk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_dpk_8710c.h"
+//	#include "rtl8710c/halrf.h"
+	#include "rtl8710c/halrf_iqk_8710c.h"
+//	#include "rtl8710c/halrf_txgapk_8710c.h"
+//	#include "rtl8710c/halrf_dpk_8710c.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.c
index c9c704cd6e87..9534d24cea91 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.h
index e456f1887f31..0cec79d2f1f6 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.c
index 4efcd5c1870c..8bcec7aa15e8 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.h
index c9c0cfc389fb..c3aac45a5f53 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf.h
@@ -29,34 +29,34 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8197G_SUPPORT == 1)
-#include "halrf/rtl8197g/halrf_rfk_init_8197g.h"
+#include "rtl8197g/halrf_rfk_init_8197g.h"
 #endif
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #if (RTL8812F_SUPPORT == 1)
-#include "halrf/rtl8812f/halrf_rfk_init_8812f.h"
+#include "rtl8812f/halrf_rfk_init_8812f.h"
 #endif
 
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_debug.c
index 9c1783a540da..e51ff1c77d3e 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_kfree.c
index 548b0e98c9df..73a0e60338f7 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking.c
index 25c5625a3a0c..a548c5e39039 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ap.c
index d9dda08cb55f..6e846a4d55da 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ce.c
index 1ae098bfff68..9df73c9795c9 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_iot.c
index dd6e02b3f520..e1faae5cf07e 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_win.c
index c22e9d894364..eee7556e7e34 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_psd.c
index bab7d09acd0b..660fe8564d06 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 u64 _sqrt(u64 x)
 {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
index c7e75648e69a..47096c486704 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
index b696aaf1aea9..416066602ffa 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 /*---------------------------Define Local Constant---------------------------*/
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
index f17a0be04858..d945ecaca756 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/halrf/rtl8188e/halrf_8188e_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #if RT_PLATFORM==PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/hal8188erateadaptive.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/hal8188erateadaptive.c
index 5fabc5a021a6..55638318b1d4 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/hal8188erateadaptive.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/hal8188erateadaptive.c
@@ -12,7 +12,7 @@
  * more details.
  *
  *****************************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_bb.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_bb.c
index be47b39b6a62..b6f18114bc9b 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_bb.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_bb.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_mac.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_mac.c
index 8fd2eb04f2a0..bb961704cbdf 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_mac.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_mac.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_rf.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_rf.c
index 632c80c2da85..ebb54c45536d 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_rf.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/halhwimg8188e_rf.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8188E_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_regconfig8188e.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_regconfig8188e.c
index 530556e828c6..620fd9b3ff61 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_regconfig8188e.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_regconfig8188e.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_rtl8188e.c b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_rtl8188e.c
index 0e9c890ae6ba..7d637cfc7309 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_rtl8188e.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/rtl8188e/phydm_rtl8188e.c
@@ -17,7 +17,7 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8822b.c
index a1d35c9b178d..15dd4db80ac2 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/phydm_hal_txbf_api.c
index 6c268c13fc7f..093fd905fd6d 100755
--- a/drivers/net/wireless/rtl8189es/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8189es/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8189es/include/rtw_recv.h b/drivers/net/wireless/rtl8189es/include/rtw_recv.h
index 90abfeeb31bf..9e6da87da2e1 100755
--- a/drivers/net/wireless/rtl8189es/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8189es/include/rtw_recv.h
@@ -768,7 +768,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl8189fs/Makefile b/drivers/net/wireless/rtl8189fs/Makefile
index 75aedda56583..fba9b006209c 100755
--- a/drivers/net/wireless/rtl8189fs/Makefile
+++ b/drivers/net/wireless/rtl8189fs/Makefile
@@ -17,13 +17,15 @@ EXTRA_CFLAGS += -Wno-unused
 EXTRA_CFLAGS += -Wno-sign-compare
 EXTRA_CFLAGS += -Wno-implicit-fallthrough
 EXTRA_CFLAGS += -Wno-vla
+XTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN
 EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT
@@ -252,10 +254,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2214,21 +2216,21 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 ########### HAL_RTL8822C #################################
 ifeq ($(CONFIG_RTL8822C), y)
-include $(src)/rtl8822c.mk
+include $(srctree)/$(src)/rtl8822c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.c
index cd3d62046712..5675441b7e6b 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.h
index 055856716c81..06ec247ceb34 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ap.h
@@ -16,42 +16,42 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8812F_SUPPORT == 1)
-	#include "halrf/rtl8812f/halrf_iqk_8812f.h"
-	#include "halrf/rtl8812f/halrf_dpk_8812f.h"
-	#include "halrf/rtl8812f/halrf_tssi_8812f.h"
+	#include "rtl8812f/halrf_iqk_8812f.h"
+	#include "rtl8812f/halrf_dpk_8812f.h"
+	#include "rtl8812f/halrf_tssi_8812f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.c
index 2077bc43d36b..4f33e6d8cce7 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.h
index aff18edc5b7b..6fdfc1df14bb 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_ce.h
@@ -26,32 +26,32 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.c
index a357b4de0661..2ab8f02771cc 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.h
index e81c272de123..0265ad986b92 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_iot.h
@@ -26,20 +26,20 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.c
index c267715146a1..987728688f6f 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.h
index 4deea5715c14..8fc0a7a7d99b 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.c
index 6d1baa6b75ca..01501765ee36 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.h
index f856b07b92c6..604ff55be6dc 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf.h
@@ -29,31 +29,31 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #if (RTL8812F_SUPPORT == 1)
-#include "halrf/rtl8812f/halrf_rfk_init_8812f.h"
+#include "rtl8812f/halrf_rfk_init_8812f.h"
 #endif
 
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_debug.c
index 882cf0700a78..a578df404a3f 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_kfree.c
index f1502b862203..c60a6598d39f 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking.c
index fcbd1d244b09..49a6c17ce4d5 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ap.c
index a368ff8d24ac..cf298461f134 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ce.c
index 3bdf5abac0e3..97c2ab8389fe 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_iot.c
index c49d5473b9d8..b7ce746644c3 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_win.c
index 20ca0ad7f0df..e51af2a19742 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_psd.c
index ea2173862369..e8b421ae6d9a 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 u64 _sqrt(u64 x)
 {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/rtl8188f/halrf_8188f.c b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/rtl8188f/halrf_8188f.c
index 413fcaf72eca..ede7cab07e35 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/rtl8188f/halrf_8188f.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/halrf/rtl8188f/halrf_8188f.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 /*#if (DM_ODM_SUPPORT_TYPE == ODM_WIN)*/
 #if (DM_ODM_SUPPORT_TYPE == 0x08) /*[PHYDM-262] workaround for SD4 compile warning*/
 #if RT_PLATFORM == PLATFORM_MACOSX
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8822b.c
index f25912a5e94e..d34ac0561378 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/phydm_hal_txbf_api.c
index bc65b6a3f028..87dc52d7ba57 100755
--- a/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8189fs/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8189fs/include/rtw_recv.h b/drivers/net/wireless/rtl8189fs/include/rtw_recv.h
index 90abfeeb31bf..9e6da87da2e1 100755
--- a/drivers/net/wireless/rtl8189fs/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8189fs/include/rtw_recv.h
@@ -768,7 +768,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl8192eu/Makefile b/drivers/net/wireless/rtl8192eu/Makefile
index 8ecdb72d6e0f..0336c5d5f721 100755
--- a/drivers/net/wireless/rtl8192eu/Makefile
+++ b/drivers/net/wireless/rtl8192eu/Makefile
@@ -6,12 +6,14 @@ EXTRA_CFLAGS += -O2
 EXTRA_CFLAGS += -Wno-unused-variable
 EXTRA_CFLAGS += -Wno-unused-label
 EXTRA_CFLAGS += -Wno-unused-function
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -251,10 +253,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2205,16 +2207,16 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.c
index 4df219ed2894..70ad4a2d82dd 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.h
index 0c1cbb81597c..733e5334cec0 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ap.h
@@ -16,35 +16,35 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.c
index c8753e500c85..c0d67d59324a 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.h
index f0c44468706b..f9560fa263ee 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_ce.h
@@ -26,31 +26,31 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.c
index 8145fc9bc89e..19a0a0b4c23c 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.h
index 7eba821be4e9..d524c236a25d 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_iot.h
@@ -26,20 +26,20 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.c
index 79702788a8ff..41e723f71c5a 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.h
index 873948d45a6b..d10c37d8bb10 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.c
index 1ca6ef76299a..377b2f961f9a 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.h
index bbd351a10165..5dbd464a3e20 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf.h
@@ -29,26 +29,26 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_debug.c
index b64c7368d03f..749bf567c574 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_kfree.c
index cee13be26586..fa7641762722 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking.c
index eaf53b8ae362..b3b4bd079097 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ap.c
index cafd92f8dd6e..eb28f1bf9df1 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ce.c
index 926bda965b3e..d9e4080bba5a 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_iot.c
index 1dcc44f85618..1f3c91dbd770 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_win.c
index 5766e951a2f9..5f36b0c240bf 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_psd.c
index 8c2f874291b2..fc98b40071b9 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_WIN)
 
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ap.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ap.c
index 45c3e4021fe5..4a3bed784339 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ap.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ce.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ce.c
index 1a5922f585e3..5c0acbf07f0f 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ce.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 /*---------------------------Define Local Constant---------------------------*/
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_win.c b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_win.c
index a3c2241a64f6..18135c724753 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_win.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/halrf/rtl8192e/halrf_8192e_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #if RT_PLATFORM==PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8822b.c
index 0c7d9851a176..08184f314f39 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfinterface.c
index ecb4bbb90ccd..ef9fbaf35a9a 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/phydm_hal_txbf_api.c
index a7f7e14fb9a6..a85a9cb5fd90 100755
--- a/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8192eu/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8723ds/Makefile b/drivers/net/wireless/rtl8723ds/Makefile
index aa57f853e19e..2492cfe5e462 100755
--- a/drivers/net/wireless/rtl8723ds/Makefile
+++ b/drivers/net/wireless/rtl8723ds/Makefile
@@ -14,14 +14,16 @@ EXTRA_CFLAGS += -Wno-unused-parameter
 EXTRA_CFLAGS += -Wno-unused-function
 EXTRA_CFLAGS += -Wno-unused
 #EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
-EXTRA_CFLAGS += -I$(src)/hal/phydm
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/phydm
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -233,11 +235,11 @@ _OUTSRC_FILES := hal/phydm/phydm_debug.o	\
 		hal/phydm/phydm_ccx.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
 ifeq ($(CONFIG_BT_COEXIST), y)
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 _OUTSRC_FILES += hal/btc/HalBtc8192e1Ant.o \
 				hal/btc/HalBtc8192e2Ant.o \
 				hal/btc/HalBtc8723b1Ant.o \
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/halcomtxbf.c
index 395a21756a0d..e53110272025 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/halcomtxbf.c
@@ -4,7 +4,7 @@
 // This file is for TXBF mechanism
 //
 //============================================================
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8192e.c
index 778eb919d597..84e67dc9b502 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8192e.c
@@ -4,7 +4,7 @@
 // This file is for 8192E TXBF mechanism
 //
 //============================================================
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8814a.c
index 1c6670825f15..7ae2cfce95b4 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8814a.c
@@ -5,7 +5,7 @@
 //
 //============================================================
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8822b.c
index 582ffadf0a10..dba9b6f52c25 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbf8822b.c
@@ -5,8 +5,8 @@
 /*                                                            */
 /*============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfinterface.c
index 4fbad2db84f4..031b880c760a 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfinterface.c
@@ -4,7 +4,7 @@
 // This file is for TXBF interface mechanism
 //
 //============================================================
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfjaguar.c
index e1253710f697..d76a578a9eb5 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/haltxbfjaguar.c
@@ -4,7 +4,7 @@
 // This file is for 8812/8821/8811 TXBF mechanism
 //
 //============================================================
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/phydm_hal_txbf_api.c
index fd3417bf8ce7..21e72995d5f7 100755
--- a/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8723ds/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -1,5 +1,5 @@
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8723ds/include/rtw_recv.h b/drivers/net/wireless/rtl8723ds/include/rtw_recv.h
index 16765f65b485..efb82a9d89a8 100755
--- a/drivers/net/wireless/rtl8723ds/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8723ds/include/rtw_recv.h
@@ -764,7 +764,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl8723du/Makefile b/drivers/net/wireless/rtl8723du/Makefile
index 26facb1d85e3..2f6eb72126a7 100755
--- a/drivers/net/wireless/rtl8723du/Makefile
+++ b/drivers/net/wireless/rtl8723du/Makefile
@@ -1,12 +1,14 @@
 EXTRA_CFLAGS += $(USER_EXTRA_CFLAGS)
 EXTRA_CFLAGS += -O1
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 #EXTRA_LDFLAGS += --strip-debug
 
@@ -29,7 +31,7 @@ CONFIG_WAKEUP_TYPE = 0x7 #bit2: deauth, bit1: unicast, bit0: magic pkt.
 
 CONFIG_DRVEXT_MODULE = n
 
-export TopDIR ?= $(src)
+export TopDIR ?= $(srctree)/$(src)
 
 ########### COMMON  #################################
 HCI_NAME = usb
@@ -59,10 +61,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/hal_usb_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal
 
 include $(TopDIR)/hal/phydm/phydm.mk
 ########### HAL_RTL8723D #################################
diff --git a/drivers/net/wireless/rtl8723du/hal/phydm/halrf.c b/drivers/net/wireless/rtl8723du/hal/phydm/halrf.c
index fedf4a5d4fab..b0cc459dbd3c 100755
--- a/drivers/net/wireless/rtl8723du/hal/phydm/halrf.c
+++ b/drivers/net/wireless/rtl8723du/hal/phydm/halrf.c
@@ -5,7 +5,7 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "phydm_precomp.h"
 
 void halrf_basic_profile(void *p_dm_void, u32 *_used, char *output,
diff --git a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_8723d.c b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_8723d.c
index c9e8c796b4f8..b8cf8baf2759 100755
--- a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_8723d.c
+++ b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_8723d.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "phydm_precomp.h"
 
 /* <20121018, Kordan> In case fail to read TxPowerTrack.txt, we use the table of 88E as the default table. */
diff --git a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_kfree.c b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_kfree.c
index 612fe91f15d4..9b07a14d1842 100755
--- a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_kfree.c
@@ -4,7 +4,7 @@
 /*============================================================*/
 /*include files*/
 /*============================================================*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking.c b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking.c
index 72b1484a0e2a..7a1fd04a81c4 100755
--- a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking.c
@@ -4,7 +4,7 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking_ce.c
index 4cba8d3b78b4..d86a7889e4aa 100755
--- a/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8723du/hal/phydm/halrf_powertracking_ce.c
@@ -4,7 +4,7 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "phydm_precomp.h"
 
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8723du/include/ieee80211.h b/drivers/net/wireless/rtl8723du/include/ieee80211.h
index 99897862d0d7..9f3a4d6999df 100755
--- a/drivers/net/wireless/rtl8723du/include/ieee80211.h
+++ b/drivers/net/wireless/rtl8723du/include/ieee80211.h
@@ -1228,6 +1228,11 @@ enum ieee80211_state {
 #define PORT_FMT "%u"
 #define PORT_ARG(x) ntohs(*((__be16 *)(x)))
 
+#define is_multicast_mac_addr(Addr) is_multicast_ether_addr(Addr)
+#define is_broadcast_mac_addr(Addr) is_broadcast_ether_addr(Addr)
+#define is_zero_mac_addr(Addr) is_zero_ether_addr(Addr)
+
+/*
 extern inline int is_multicast_mac_addr(const u8 *addr)
 {
 	return (addr[0] != 0xff) && (0x01 & addr[0]);
@@ -1244,6 +1249,7 @@ extern inline int is_zero_mac_addr(const u8 *addr)
 	return ((addr[0] == 0x00) && (addr[1] == 0x00) && (addr[2] == 0x00) &&   \
 		(addr[3] == 0x00) && (addr[4] == 0x00) && (addr[5] == 0x00));
 }
+*/
 
 #define CFG_IEEE80211_RESERVE_FCS (1<<0)
 #define CFG_IEEE80211_COMPUTE_FCS (1<<1)
diff --git a/drivers/net/wireless/rtl8723du/include/rtw_recv.h b/drivers/net/wireless/rtl8723du/include/rtw_recv.h
index e4db91765836..7e70798ef771 100755
--- a/drivers/net/wireless/rtl8723du/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8723du/include/rtw_recv.h
@@ -569,7 +569,7 @@ static inline union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 static inline union recv_frame *pkt_to_recvframe(struct sk_buff *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl8723du/os_dep/ioctl_linux.c b/drivers/net/wireless/rtl8723du/os_dep/ioctl_linux.c
index ebc94626ccd3..f4f0e5611c41 100755
--- a/drivers/net/wireless/rtl8723du/os_dep/ioctl_linux.c
+++ b/drivers/net/wireless/rtl8723du/os_dep/ioctl_linux.c
@@ -6,7 +6,7 @@
 #include <drv_types.h>
 #include <rtw_mp.h>
 #include <rtw_mp_ioctl.h>
-#include "../../hal/phydm/phydm_precomp.h"
+#include "../hal/phydm/phydm_precomp.h"
 
 #if (LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 27))
 #define  iwe_stream_add_event(a, b, c, d, e)  iwe_stream_add_event(b, c, d, e)
diff --git a/drivers/net/wireless/rtl8811cu/Makefile b/drivers/net/wireless/rtl8811cu/Makefile
index f8513b0c1a34..7912af16a8c7 100755
--- a/drivers/net/wireless/rtl8811cu/Makefile
+++ b/drivers/net/wireless/rtl8811cu/Makefile
@@ -10,13 +10,15 @@ EXTRA_CFLAGS += -Wno-unused-function
 EXTRA_CFLAGS += -Wno-unused
 EXTRA_CFLAGS += -Wno-vla -g
 EXTRA_CFLAGS += -Wno-implicit-fallthrough
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-#EXTRA_CFLAGS += -I$(src)/include
+#EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
@@ -229,12 +231,12 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-#EXTRA_CFLAGS += -I$(src)/platform
+#EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 #EXTRA_CFLAGS += -I$(S)/drivers/net/wireless/rtl8811cu/platform
 EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-#EXTRA_CFLAGS += -I$(src)/hal/btc
+#EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 #EXTRA_CFLAGS += -I$(S)/drivers/net/wireless/rtl8811cu/hal/btc
 EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
@@ -2139,16 +2141,16 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.c
index fabdee54b5a4..09770bb25094 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.h
index ff86d02738f9..922813564393 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ap.h
@@ -16,29 +16,29 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.c
index 2bd872c54c19..a663f640e29c 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)        \
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.h
index 284344ceaa1e..d7f0c620107a 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_ce.h
@@ -40,7 +40,7 @@
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
+/* #include "rtl8195b/halrf.h" */
 #include "../halrf/rtl8195b/halrf_iqk_8195b.h"
 #include "../halrf/rtl8195b/halrf_txgapk_8195b.h"
 #include "../halrf/rtl8195b/halrf_dpk_8195b.h"
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.c
index b72b831dd0a1..3e6d7d50d0f8 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.h
index 7eba821be4e9..d524c236a25d 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_iot.h
@@ -26,20 +26,20 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.c
index 0a906d784660..1d96d5937fb3 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.h
index e50291381d1c..3725a451e5d5 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halphyrf_win.h
@@ -17,25 +17,25 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.c
index e69a16c941ae..ae5ab3baeb40 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.c
@@ -28,7 +28,7 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 || RTL8195B_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.h
index 459cd5226530..0575404827cc 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf.h
@@ -31,7 +31,7 @@
 /*============================================================*/
 #include "../halrf/halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 
 /*============================================================*/
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_debug.c
index d9d552b9e387..ef9ee48b7f94 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_debug.c
@@ -28,7 +28,7 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_kfree.c
index 0ae134392861..371dfbfcf323 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_kfree.c
@@ -26,7 +26,7 @@
 /*============================================================*/
 /*include files*/
 /*============================================================*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 /*<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking.c
index a6922faa782c..aee7e7a4927c 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking.c
@@ -27,7 +27,7 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 boolean
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ap.c
index 9ed003fe29cb..1b7a3ca02b22 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ce.c
index 992f693b189e..d2bf61b0980f 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,7 +28,7 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_iot.c
index 7a38741215fe..e09e5df85ff0 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_win.c
index 81dc2d63bd09..c32cae84a65a 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_psd.c
index 6330ab3f2f95..8593b22efdf9 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_psd.c
@@ -17,7 +17,7 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_WIN)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_txgapcal.c
index 960ec55d6ccb..2e4e7f84bde7 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,7 +22,7 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 void odm_bub_sort(pu4Byte data, u4Byte n)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_8821c.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_8821c.c
index f702eaa38683..ea24edc59593 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_8821c.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_8821c.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_iqk_8821c.c b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_iqk_8821c.c
index 41a858a76802..1857f62279da 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_iqk_8821c.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/halrf/rtl8821c/halrf_iqk_8821c.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/halcomtxbf.c
index c55042185e31..232716986494 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8192e.c
index b85deb17feb5..fabc6453f447 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8814a.c
index 12ed48d319d0..e3bf86986fc9 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8822b.c
index 1a5b1052b767..29aa580634b3 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           */
 /*============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfinterface.c
index 28186c529559..e5b7f5d3a262 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfjaguar.c
index 3d0d205df75c..09c37d115dba 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/phydm_hal_txbf_api.c
index e87e3ed74e5f..553f0122cbe0 100755
--- a/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8811cu/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
diff --git a/drivers/net/wireless/rtl8811cu/include/ieee80211.h b/drivers/net/wireless/rtl8811cu/include/ieee80211.h
index edfa363a60aa..85521295f51d 100755
--- a/drivers/net/wireless/rtl8811cu/include/ieee80211.h
+++ b/drivers/net/wireless/rtl8811cu/include/ieee80211.h
@@ -1533,7 +1533,6 @@ enum ieee80211_state {
 #define is_multicast_mac_addr(Addr) is_multicast_ether_addr(Addr)
 #define is_broadcast_mac_addr(Addr) is_broadcast_ether_addr(Addr)
 #define is_zero_mac_addr(Addr) is_zero_ether_addr(Addr)
-
 /*
 #if (LINUX_VERSION_CODE >= KERNEL_VERSION(5, 18, 0))
 static inline int is_multicast_mac_addr(const u8 *addr)
diff --git a/drivers/net/wireless/rtl8811cu/include/rtw_recv.h b/drivers/net/wireless/rtl8811cu/include/rtw_recv.h
index 53d99a15ef49..ceb7dec462ff 100755
--- a/drivers/net/wireless/rtl8811cu/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8811cu/include/rtw_recv.h
@@ -813,7 +813,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 #ifdef PLATFORM_WINDOWS
 	_buffer *buf_desc;
diff --git a/drivers/net/wireless/rtl8812au/Makefile b/drivers/net/wireless/rtl8812au/Makefile
index 406c4d0006c2..898c0c7688c2 100755
--- a/drivers/net/wireless/rtl8812au/Makefile
+++ b/drivers/net/wireless/rtl8812au/Makefile
@@ -13,13 +13,14 @@ EXTRA_CFLAGS += -Wno-error=cast-function-type
 EXTRA_CFLAGS += -Wno-unknown-pragmas
 #EXTRA_CFLAGS += -Wno-unused
 EXTRA_CFLAGS += -Wno-vla -g
+EXTRA_CFLAGS += -Wno-uninitialized
 
 #GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 #ifeq ($(GCC_VER_49),1)
 #EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 #endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 EXTRA_LDFLAGS += --strip-all -O3
 
 ########################## WIFI IC ############################
@@ -223,10 +224,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2167,16 +2168,16 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.c
index c4967e264a80..932c2f3ff984 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.h
index 0c1cbb81597c..733e5334cec0 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ap.h
@@ -16,35 +16,35 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.c
index c8753e500c85..c0d67d59324a 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.h
index f0c44468706b..f9560fa263ee 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_ce.h
@@ -26,31 +26,31 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.c
index 8145fc9bc89e..19a0a0b4c23c 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.h
index 7eba821be4e9..d524c236a25d 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_iot.h
@@ -26,20 +26,20 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.c
index 79702788a8ff..41e723f71c5a 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.h
index 873948d45a6b..d10c37d8bb10 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.c
index 32fd1f3db731..a76cc79f3a3a 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.h
index 8a45aae3253e..436c087566c7 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf.h
@@ -29,26 +29,26 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_debug.c
index 85a7cb22b352..6712cabf83cf 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_kfree.c
index cee13be26586..fa7641762722 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking.c
index eaf53b8ae362..b3b4bd079097 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ap.c
index cafd92f8dd6e..eb28f1bf9df1 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ce.c
index 55ec7bf166de..245cb08f6a86 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_iot.c
index a0c40dc9d665..4411d91017b7 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_win.c
index bad28f508d56..cc2d3da16818 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_psd.c
index 8c2f874291b2..fc98b40071b9 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_WIN)
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ap.c
index 8861416bfb5e..a772c7e041a1 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ce.c
index cebb7265db98..f946cd1df9c3 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 /*---------------------------Define Local Constant---------------------------*/
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_win.c
index 8a08f6b46b00..6383c9db8783 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8812a/halrf_8812a_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #if RT_PLATFORM==PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ap.c
index 238df1bf487b..81f186bf28c6 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ap.c
@@ -19,7 +19,7 @@
  ******************************************************************************/
 
 #if !defined(__ECOS) && !defined(CONFIG_COMPAT_WIRELESS)
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #else
 #include "../mp_precomp.h"
 #endif
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ce.c
index 09c65ed3ff6b..e186dac1eaa0 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_ce.c
@@ -18,7 +18,7 @@
  *
  ******************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_win.c
index eb91c4d8af7a..3edf3d4d228c 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_8814a_win.c
@@ -18,7 +18,7 @@
  *
  ******************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_iqk_8814a.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_iqk_8814a.c
index e019df35a9bb..c5f864fcaeca 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_iqk_8814a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8814a/halrf_iqk_8814a.c
@@ -18,7 +18,7 @@
  *
  ******************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_ce.c
index ef0f72c56184..4864bdaf3674 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 /*---------------------------Define Local Constant---------------------------*/
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_win.c
index cfb7592db50d..037685c434f2 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_8821a_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #if RT_PLATFORM==PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ap.c
index c98cbc01ccf9..5306ca0bb929 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ap.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ce.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ce.c
index b6491baf7878..ca17db93a6db 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ce.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_ce.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_win.c
index e1c267a5f3cc..2b662b512054 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/halrf/rtl8821a/halrf_iqk_8821a_win.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_bb.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_bb.c
index 0d2cb51c04b3..9c6440ac58ed 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_bb.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_bb.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8812A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_mac.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_mac.c
index febfa8010f64..9e3ce2477262 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_mac.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_mac.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8812A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_rf.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_rf.c
index 02f64522d634..428a351b9a22 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_rf.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/halhwimg8812a_rf.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 3.5.2*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8812A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_regconfig8812a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_regconfig8812a.c
index 83362e539fdb..46b45de305f7 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_regconfig8812a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_regconfig8812a.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8812A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_rtl8812a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_rtl8812a.c
index 192d776bb891..a25c6e758ecc 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_rtl8812a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8812a/phydm_rtl8812a.c
@@ -17,7 +17,7 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_bb.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_bb.c
index 181b88a859ac..b7a39d24b16f 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_bb.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_bb.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.19*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_mac.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_mac.c
index 0d586702868b..9de1931d6df6 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_mac.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_mac.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.19*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_rf.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_rf.c
index c7225cd93ffa..1a21d7fd431e 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_rf.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halhwimg8814a_rf.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.19*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_ap.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_ap.c
index 948f91963e23..35aa5c08a983 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_ap.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_ap.c
@@ -19,7 +19,7 @@
  ******************************************************************************/
 
 #if !defined(__ECOS) && !defined(CONFIG_COMPAT_WIRELESS)
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #else
 #include "../mp_precomp.h"
 #endif
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_win.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_win.c
index eb91c4d8af7a..024630a657bc 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_win.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/halphyrf_8814a_win.c
@@ -18,7 +18,7 @@
  *
  ******************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_regconfig8814a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_regconfig8814a.c
index 2e3f20622117..35e7eba83a86 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_regconfig8814a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_regconfig8814a.c
@@ -18,7 +18,7 @@
  *
  ******************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)  
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_rtl8814a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_rtl8814a.c
index 885e063368e2..66bc087c9d12 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_rtl8814a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8814a/phydm_rtl8814a.c
@@ -22,7 +22,7 @@
 // include files
 //============================================================
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8814A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_bb.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_bb.c
index 0dc7ab6e1fc1..7639bfb94799 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_bb.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_bb.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.18*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8821A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_mac.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_mac.c
index b93be49b662b..d572d3fd8a14 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_mac.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_mac.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.18*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8821A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_rf.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_rf.c
index 05b004bd4db5..3647cfc6555e 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_rf.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/halhwimg8821a_rf.c
@@ -14,7 +14,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: 2.18*/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8821A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_regconfig8821a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_regconfig8821a.c
index aa96ac7fc5a9..d1971071b955 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_regconfig8821a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_regconfig8821a.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (RTL8821A_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_rtl8821a.c b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_rtl8821a.c
index 5de0754dadda..32add7882aba 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_rtl8821a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/rtl8821a/phydm_rtl8821a.c
@@ -17,7 +17,7 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 
 #include "../phydm_precomp.h"
 
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8822b.c
index f25912a5e94e..d34ac0561378 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/phydm_hal_txbf_api.c
index a7f7e14fb9a6..a85a9cb5fd90 100755
--- a/drivers/net/wireless/rtl8812au/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8812au/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl8812au/hal/rtl8814a/rtl8814a_hal_init.c b/drivers/net/wireless/rtl8812au/hal/rtl8814a/rtl8814a_hal_init.c
index b93ed3174f02..57e18e6543f7 100755
--- a/drivers/net/wireless/rtl8812au/hal/rtl8814a/rtl8814a_hal_init.c
+++ b/drivers/net/wireless/rtl8812au/hal/rtl8814a/rtl8814a_hal_init.c
@@ -21,7 +21,7 @@
 
 //#include <drv_types.h>
 #include <rtl8814a_hal.h>
-#include "phydm_antdiv.h"
+#include "../phydm/phydm_antdiv.h"
 
 #define REG_BCN_INTERVAL				0x0554
 
diff --git a/drivers/net/wireless/rtl8812au/include/rtw_recv.h b/drivers/net/wireless/rtl8812au/include/rtw_recv.h
index d6422a1d2d18..16abbcd5cbd0 100755
--- a/drivers/net/wireless/rtl8812au/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8812au/include/rtw_recv.h
@@ -823,7 +823,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 #ifdef PLATFORM_WINDOWS
 	_buffer *buf_desc;
diff --git a/drivers/net/wireless/rtl8822bs/Makefile b/drivers/net/wireless/rtl8822bs/Makefile
index b05ac46aafd2..6921f2407ca8 100755
--- a/drivers/net/wireless/rtl8822bs/Makefile
+++ b/drivers/net/wireless/rtl8822bs/Makefile
@@ -14,6 +14,8 @@ EXTRA_CFLAGS += -Wno-unused-parameter
 EXTRA_CFLAGS += -Wno-unused-function
 EXTRA_CFLAGS += -Wno-unused
 #EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
@@ -21,7 +23,7 @@ EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and lat
 endif
 
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -223,10 +225,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -1932,16 +1934,16 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.c
index f9c031fdc791..b696ba55c660 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.h
index f2afd2804147..3610851c54a8 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halphyrf_ce.h
@@ -16,20 +16,20 @@
 #ifndef __HAL_PHY_RF_H__
 #define __HAL_PHY_RF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.c
index 71a05aa2f5b5..2f1216d2a7e9 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.c
@@ -17,8 +17,8 @@
  * include files
  * ************************************************************ */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(
 	void			*p_dm_void,
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.h
index 6def2ed8ec97..acaa5e3af0b5 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf.h
@@ -20,7 +20,7 @@
 /*============================================================*/
 /*include files*/
 /*============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 
 
 /*============================================================*/
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_kfree.c
index 5501325d4100..f781da002406 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_kfree.c
@@ -16,8 +16,8 @@
 /*============================================================*/
 /*include files*/
 /*============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 
 /*<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking.c
index dc43998a5f66..32a26eb33a9e 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 
 boolean
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking_ce.c
index cb40caf644cc..c33ca5cc5486 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_psd.c
index 4baf4d05f516..57ff9b82edca 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_psd.c
@@ -16,8 +16,8 @@
 //============================================================
 // include files
 //============================================================
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_WIN)
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_txgapcal.c
index 3ab8189c496e..6b07e4d8966c 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/halrf_txgapcal.c
@@ -1,5 +1,5 @@
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 
 
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_8822b.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_8822b.c
index ee3412120344..343a35de4509 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_8822b.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_8822b.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 	#if RT_PLATFORM==PLATFORM_MACOSX
 	#include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
index a6d596bbf398..17bb43ab39b8 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 	#if RT_PLATFORM==PLATFORM_MACOSX
 	#include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/halcomtxbf.c
index f0e3164a2fb4..dcc5b10ba1e1 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  * ************************************************************ */
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbf8822b.c
index e7d75a45b484..6f5db50eb9b9 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           */
 /*============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbfinterface.c
index ebccedcfb593..659b0308e545 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  * ************************************************************ */
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #if (BEAMFORMING_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/phydm_hal_txbf_api.c
index 2fb3f0a6c95b..8d18220cd742 100755
--- a/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl8822bs/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1)
diff --git a/drivers/net/wireless/rtl8822bs/include/ieee80211.h b/drivers/net/wireless/rtl8822bs/include/ieee80211.h
index af7a82221d92..b4b567a57b5c 100755
--- a/drivers/net/wireless/rtl8822bs/include/ieee80211.h
+++ b/drivers/net/wireless/rtl8822bs/include/ieee80211.h
@@ -1478,6 +1478,12 @@ enum ieee80211_state {
 	(((Addr[2]) & 0xff) == 0xff) && (((Addr[3]) & 0xff) == 0xff) && (((Addr[4]) & 0xff) == 0xff) && \
 				     (((Addr[5]) & 0xff) == 0xff))
 #else
+
+#define is_multicast_mac_addr(Addr) is_multicast_ether_addr(Addr)
+#define is_broadcast_mac_addr(Addr) is_broadcast_ether_addr(Addr)
+#define is_zero_mac_addr(Addr) is_zero_ether_addr(Addr)
+
+/*
 extern __inline int is_multicast_mac_addr(const u8 *addr)
 {
 	return (addr[0] != 0xff) && (0x01 & addr[0]);
@@ -1494,6 +1500,8 @@ extern __inline int is_zero_mac_addr(const u8 *addr)
 	return ((addr[0] == 0x00) && (addr[1] == 0x00) && (addr[2] == 0x00) &&   \
 		(addr[3] == 0x00) && (addr[4] == 0x00) && (addr[5] == 0x00));
 }
+*/
+
 #endif /* PLATFORM_FREEBSD */
 
 #define CFG_IEEE80211_RESERVE_FCS (1<<0)
diff --git a/drivers/net/wireless/rtl8822bs/include/rtw_recv.h b/drivers/net/wireless/rtl8822bs/include/rtw_recv.h
index 2d86dc83492d..954a00cf36d2 100755
--- a/drivers/net/wireless/rtl8822bs/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl8822bs/include/rtw_recv.h
@@ -807,7 +807,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 #ifdef PLATFORM_WINDOWS
 	_buffer *buf_desc;
diff --git a/drivers/net/wireless/rtl88x2bu/Makefile b/drivers/net/wireless/rtl88x2bu/Makefile
index 63bfb747c306..863318ba9b89 100755
--- a/drivers/net/wireless/rtl88x2bu/Makefile
+++ b/drivers/net/wireless/rtl88x2bu/Makefile
@@ -18,7 +18,7 @@ ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -254,10 +254,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2300,26 +2300,26 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 ########### HAL_RTL8822C #################################
 ifeq ($(CONFIG_RTL8822C), y)
-include $(src)/rtl8822c.mk
+include $(srctree)/$(src)/rtl8822c.mk
 endif
 
 ########### HAL_RTL8814B #################################
 ifeq ($(CONFIG_RTL8814B), y)
-include $(src)/rtl8814b.mk
+include $(srctree)/$(src)/rtl8814b.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.c
index 1d944d6b347c..b981ddc8edb5 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.h
index b66bcbc4320e..10f95c8ad71c 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ap.h
@@ -16,48 +16,48 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8812F_SUPPORT == 1)
-	#include "halrf/rtl8812f/halrf_iqk_8812f.h"
-	#include "halrf/rtl8812f/halrf_dpk_8812f.h"
-	#include "halrf/rtl8812f/halrf_tssi_8812f.h"
+	#include "rtl8812f/halrf_iqk_8812f.h"
+	#include "rtl8812f/halrf_dpk_8812f.h"
+	#include "rtl8812f/halrf_tssi_8812f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 #if (RTL8197G_SUPPORT == 1)
-	#include "halrf/rtl8197g/halrf_iqk_8197g.h"
-	#include "halrf/rtl8197g/halrf_dpk_8197g.h"
-	#include "halrf/rtl8197g/halrf_tssi_8197g.h"
+	#include "rtl8197g/halrf_iqk_8197g.h"
+	#include "rtl8197g/halrf_dpk_8197g.h"
+	#include "rtl8197g/halrf_tssi_8197g.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.c
index a011b9dcfff0..b25fcdc85335 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.h
index ba9cc4fc2457..90da1a516266 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_ce.h
@@ -26,32 +26,32 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.c
index 950f2aa370f8..d15c429d2d00 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.h
index 8d4395a1f74d..7d70e016b9d8 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_iot.h
@@ -26,27 +26,27 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8710C_SUPPORT == 1)
-//	#include "halrf/rtl8710c/halrf.h"
-	#include "halrf/rtl8710c/halrf_iqk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_txgapk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_dpk_8710c.h"
+//	#include "rtl8710c/halrf.h"
+	#include "rtl8710c/halrf_iqk_8710c.h"
+//	#include "rtl8710c/halrf_txgapk_8710c.h"
+//	#include "rtl8710c/halrf_dpk_8710c.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.c
index b1a23ae7abe3..05a9c56df2aa 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.h
index e456f1887f31..0cec79d2f1f6 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halphyrf_win.h
@@ -17,29 +17,29 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.c
index 24b15ea672f7..61f5d57a2377 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.h
index 7219224fc408..e21526c4e257 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf.h
@@ -29,34 +29,34 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8197G_SUPPORT == 1)
-#include "halrf/rtl8197g/halrf_rfk_init_8197g.h"
+#include "rtl8197g/halrf_rfk_init_8197g.h"
 #endif
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #if (RTL8812F_SUPPORT == 1)
-#include "halrf/rtl8812f/halrf_rfk_init_8812f.h"
+#include "rtl8812f/halrf_rfk_init_8812f.h"
 #endif
 
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-#include "halrf/rtl8814b/halrf_dpk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_dpk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_debug.c
index 9c1783a540da..e51ff1c77d3e 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_kfree.c
index 8f1d80af68e9..45a9c18dbd63 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking.c
index 25c5625a3a0c..a548c5e39039 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ap.c
index cadb08f62451..b65899f32177 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ce.c
index 1f2f12be87dd..b0a141fa0981 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_iot.c
index dd6e02b3f520..e1faae5cf07e 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_win.c
index 170bd0dfa225..51abe9d2a96b 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_psd.c
index d5e8519a68fb..24a8c452dc19 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 u64 _sqrt(u64 x)
 {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halhwimg8822b_rf.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halhwimg8822b_rf.c
index 394989612da6..c20eead88cdb 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halhwimg8822b_rf.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halhwimg8822b_rf.c
@@ -24,7 +24,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: R3 1.5.10*/
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #define ODM_WIN 0x08
 
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_8822b.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_8822b.c
index 6fb16b23475b..bc5f41976ab5 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_8822b.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_8822b.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
index c7dae840ead8..95f851137f48 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_iqk_8822b.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_rfk_init_8822b.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_rfk_init_8822b.c
index aee6db00a5a6..5265e1e00c87 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_rfk_init_8822b.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/halrf/rtl8822b/halrf_rfk_init_8822b.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8822b.c
index a1d35c9b178d..15dd4db80ac2 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfjaguar.c
index 18a47d4a9c69..336cb7907096 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/phydm_hal_txbf_api.c
index 6c268c13fc7f..093fd905fd6d 100755
--- a/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl88x2bu/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl88x2bu/include/rtw_recv.h b/drivers/net/wireless/rtl88x2bu/include/rtw_recv.h
index 66e37c047f34..0c0cb471357b 100755
--- a/drivers/net/wireless/rtl88x2bu/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl88x2bu/include/rtw_recv.h
@@ -768,7 +768,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
diff --git a/drivers/net/wireless/rtl88x2cs/Makefile b/drivers/net/wireless/rtl88x2cs/Makefile
index 5d60b2fdc70f..59572dca199e 100755
--- a/drivers/net/wireless/rtl88x2cs/Makefile
+++ b/drivers/net/wireless/rtl88x2cs/Makefile
@@ -14,13 +14,15 @@ EXTRA_CFLAGS += -Wno-unused-variable
 EXTRA_CFLAGS += -Wno-unused-function
 #EXTRA_CFLAGS += -Wno-unused
 #EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-uninitialized
+EXTRA_CFLAGS += -Wno-parentheses-equality
 
 GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \>= 4.9 | bc )
 ifeq ($(GCC_VER_49),1)
 EXTRA_CFLAGS += -Wno-date-time	# Fix compile error && warning on gcc 4.9 and later
 endif
 
-EXTRA_CFLAGS += -I$(src)/include
+EXTRA_CFLAGS += -I$(srctree)/$(src)/include
 
 EXTRA_LDFLAGS += --strip-debug
 
@@ -268,10 +270,10 @@ _HAL_INTFS_FILES :=	hal/hal_intf.o \
 			hal/led/hal_$(HCI_NAME)_led.o
 
 
-EXTRA_CFLAGS += -I$(src)/platform
+EXTRA_CFLAGS += -I$(srctree)/$(src)/platform
 _PLATFORM_FILES := platform/platform_ops.o
 
-EXTRA_CFLAGS += -I$(src)/hal/btc
+EXTRA_CFLAGS += -I$(srctree)/$(src)/hal/btc
 
 ########### HAL_RTL8188E #################################
 ifeq ($(CONFIG_RTL8188E), y)
@@ -2302,16 +2304,16 @@ endif
 ifneq ($(KERNELRELEASE),)
 
 ########### this part for *.mk ############################
-include $(src)/hal/phydm/phydm.mk
+include $(srctree)/$(src)/hal/phydm/phydm.mk
 
 ########### HAL_RTL8822B #################################
 ifeq ($(CONFIG_RTL8822B), y)
-include $(src)/rtl8822b.mk
+include $(srctree)/$(src)/rtl8822b.mk
 endif
 
 ########### HAL_RTL8821C #################################
 ifeq ($(CONFIG_RTL8821C), y)
-include $(src)/rtl8821c.mk
+include $(srctree)/$(src)/rtl8821c.mk
 endif
 
 ########### HAL_RTL8822C #################################
@@ -2322,7 +2324,7 @@ endif
 
 ########### HAL_RTL8814B #################################
 ifeq ($(CONFIG_RTL8814B), y)
-include $(src)/rtl8814b.mk
+include $(srctree)/$(src)/rtl8814b.mk
 endif
 
 rtk_core :=	core/rtw_cmd.o \
@@ -2370,7 +2372,7 @@ ifeq ($(CONFIG_SDIO_HCI), y)
 rtk_core += core/rtw_sdio.o
 endif
 
-EXTRA_CFLAGS += -I$(src)/core/crypto
+EXTRA_CFLAGS += -I$(srctree)/$(src)/core/crypto
 rtk_core += \
 		core/crypto/aes-internal.o \
 		core/crypto/aes-internal-enc.o \
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.c
index 47bbe29454f5..ce02e4bed60a 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #ifndef index_mapping_NUM_88E
 	#define	index_mapping_NUM_88E	15
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.h b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.h
index 8cc2797bc58c..4e059cef04f0 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.h
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ap.h
@@ -16,49 +16,49 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_powertracking_ap.h"
-#include "halrf/halrf_kfree.h"
+#include "halrf_powertracking_ap.h"
+#include "halrf_kfree.h"
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8198F_SUPPORT == 1)
-	#include "halrf/rtl8198f/halrf_iqk_8198f.h"
-	#include "halrf/rtl8198f/halrf_dpk_8198f.h"
+	#include "rtl8198f/halrf_iqk_8198f.h"
+	#include "rtl8198f/halrf_dpk_8198f.h"
 #endif
 
 #if (RTL8812F_SUPPORT == 1)
-	#include "halrf/rtl8812f/halrf_iqk_8812f.h"
-	#include "halrf/rtl8812f/halrf_dpk_8812f.h"
-	#include "halrf/rtl8812f/halrf_tssi_8812f.h"
+	#include "rtl8812f/halrf_iqk_8812f.h"
+	#include "rtl8812f/halrf_dpk_8812f.h"
+	#include "rtl8812f/halrf_tssi_8812f.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
-	#include "halrf/rtl8814b/halrf_txgapk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_txgapk_8814b.h"
 #endif
 
 #if (RTL8197G_SUPPORT == 1)
-	#include "halrf/rtl8197g/halrf_iqk_8197g.h"
-	#include "halrf/rtl8197g/halrf_dpk_8197g.h"
-	#include "halrf/rtl8197g/halrf_tssi_8197g.h"
+	#include "rtl8197g/halrf_iqk_8197g.h"
+	#include "rtl8197g/halrf_dpk_8197g.h"
+	#include "rtl8197g/halrf_tssi_8197g.h"
 #endif
 
 enum pwrtrack_method {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.c
index 6a7a5d878876..c0c0073cdec6 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal)\
 	do {                                                                   \
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.h b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.h
index dcded1e0acb5..b282c6de76e6 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.h
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_ce.h
@@ -26,33 +26,33 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 #if (RTL8814A_SUPPORT == 1)
-#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+#include "rtl8822b/halrf_iqk_8822b.h"
 #endif
 
 #if (RTL8821C_SUPPORT == 1)
-#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-/* #include "halrf/rtl8195b/halrf.h" */
-#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+/* #include "rtl8195b/halrf.h" */
+#include "rtl8195b/halrf_iqk_8195b.h"
+#include "rtl8195b/halrf_txgapk_8195b.h"
+#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"	
-	#include "halrf/rtl8814b/halrf_dpk_8814b.h"
-	#include "halrf/rtl8814b/halrf_txgapk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"	
+	#include "rtl8814b/halrf_dpk_8814b.h"
+	#include "rtl8814b/halrf_txgapk_8814b.h"
 #endif
 
-#include "halrf/halrf_powertracking_ce.h"
+#include "halrf_powertracking_ce.h"
 
 enum spur_cal_method {
 	PLL_RESET,
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.c
index ff0bf523f66c..c20b32546eed 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.c
@@ -23,8 +23,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.h b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.h
index 8d4395a1f74d..7d70e016b9d8 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.h
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_iot.h
@@ -26,27 +26,27 @@
 #ifndef __HALPHYRF_H__
 #define __HALPHYRF_H__
 
-#include "halrf/halrf_kfree.h"
+#include "halrf_kfree.h"
 
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8710C_SUPPORT == 1)
-//	#include "halrf/rtl8710c/halrf.h"
-	#include "halrf/rtl8710c/halrf_iqk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_txgapk_8710c.h"
-//	#include "halrf/rtl8710c/halrf_dpk_8710c.h"
+//	#include "rtl8710c/halrf.h"
+	#include "rtl8710c/halrf_iqk_8710c.h"
+//	#include "rtl8710c/halrf_txgapk_8710c.h"
+//	#include "rtl8710c/halrf_dpk_8710c.h"
 #endif
 
-#include "halrf/halrf_powertracking_iot.h"
+#include "halrf_powertracking_iot.h"
 
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.c
index eeae00b904dd..204019bc9bd2 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #define	CALCULATE_SWINGTALBE_OFFSET(_offset, _direction, _size, _delta_thermal) \
 	do {\
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.h b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.h
index 3769d60a9126..2b35d39b4ba8 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.h
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halphyrf_win.h
@@ -17,30 +17,30 @@
 #define __HALPHYRF_H__
 
 #if (RTL8814A_SUPPORT == 1)
-	#include "halrf/rtl8814a/halrf_iqk_8814a.h"
+	#include "rtl8814a/halrf_iqk_8814a.h"
 #endif
 
 #if (RTL8822B_SUPPORT == 1)
-	#include "halrf/rtl8822b/halrf_iqk_8822b.h"
+	#include "rtl8822b/halrf_iqk_8822b.h"
 	#include "../mac/Halmac_type.h"
 #endif
-#include "halrf/halrf_powertracking_win.h"
-#include "halrf/halrf_kfree.h"
-#include "halrf/halrf_txgapcal.h"
+#include "halrf_powertracking_win.h"
+#include "halrf_kfree.h"
+#include "halrf_txgapcal.h"
 #if (RTL8821C_SUPPORT == 1)
-	#include "halrf/rtl8821c/halrf_iqk_8821c.h"
+	#include "rtl8821c/halrf_iqk_8821c.h"
 #endif
 
 #if (RTL8195B_SUPPORT == 1)
-//	#include "halrf/rtl8195b/halrf.h"
-	#include "halrf/rtl8195b/halrf_iqk_8195b.h"
-	#include "halrf/rtl8195b/halrf_txgapk_8195b.h"
-	#include "halrf/rtl8195b/halrf_dpk_8195b.h"
+//	#include "rtl8195b/halrf.h"
+	#include "rtl8195b/halrf_iqk_8195b.h"
+	#include "rtl8195b/halrf_txgapk_8195b.h"
+	#include "rtl8195b/halrf_dpk_8195b.h"
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-	#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-	#include "halrf/rtl8814b/halrf_txgapk_8814b.h"
+	#include "rtl8814b/halrf_iqk_8814b.h"
+	#include "rtl8814b/halrf_txgapk_8814b.h"
 #endif
 
 enum spur_cal_method {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.c
index cf5ce1e5ecf1..d74679df72b2 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1 || RTL8821C_SUPPORT == 1 ||\
 	RTL8195B_SUPPORT == 1 || RTL8198F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.h b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.h
index a115bc3eb2ef..36e804f0e6bc 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.h
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf.h
@@ -29,36 +29,36 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "halrf/halrf_psd.h"
+#include "halrf_psd.h"
 #if (RTL8822B_SUPPORT == 1)
-#include "halrf/rtl8822b/halrf_rfk_init_8822b.h"
+#include "rtl8822b/halrf_rfk_init_8822b.h"
 #endif
 #if (RTL8822C_SUPPORT == 1)
-#include "halrf/rtl8822c/halrf_rfk_init_8822c.h"
-#include "halrf/rtl8822c/halrf_iqk_8822c.h"
-#include "halrf/rtl8822c/halrf_tssi_8822c.h"
-#include "halrf/rtl8822c/halrf_dpk_8822c.h"
-#include "halrf/rtl8822c/halrf_txgapk_8822c.h"
+#include "rtl8822c/halrf_rfk_init_8822c.h"
+#include "rtl8822c/halrf_iqk_8822c.h"
+#include "rtl8822c/halrf_tssi_8822c.h"
+#include "rtl8822c/halrf_dpk_8822c.h"
+#include "rtl8822c/halrf_txgapk_8822c.h"
 #endif
 
 #if (DM_ODM_SUPPORT_TYPE & ODM_AP)
 #if (RTL8197G_SUPPORT == 1)
-#include "halrf/rtl8197g/halrf_rfk_init_8197g.h"
+#include "rtl8197g/halrf_rfk_init_8197g.h"
 #endif
 #if (RTL8198F_SUPPORT == 1)
-#include "halrf/rtl8198f/halrf_rfk_init_8198f.h"
+#include "rtl8198f/halrf_rfk_init_8198f.h"
 #endif
 #if (RTL8812F_SUPPORT == 1)
-#include "halrf/rtl8812f/halrf_rfk_init_8812f.h"
+#include "rtl8812f/halrf_rfk_init_8812f.h"
 #endif
 
 #endif
 
 #if (RTL8814B_SUPPORT == 1)
-#include "halrf/rtl8814b/halrf_rfk_init_8814b.h"
-#include "halrf/rtl8814b/halrf_iqk_8814b.h"
-#include "halrf/rtl8814b/halrf_dpk_8814b.h"
-#include "halrf/rtl8814b/halrf_txgapk_8814b.h"
+#include "rtl8814b/halrf_rfk_init_8814b.h"
+#include "rtl8814b/halrf_iqk_8814b.h"
+#include "rtl8814b/halrf_dpk_8814b.h"
+#include "rtl8814b/halrf_txgapk_8814b.h"
 #endif
 
 /*@============================================================*/
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_debug.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_debug.c
index ca7afe5af4ff..cd220cc2143e 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_debug.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_debug.c
@@ -28,8 +28,8 @@
  * ************************************************************
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void halrf_basic_profile(void *dm_void, u32 *_used, char *output, u32 *_out_len)
 {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_kfree.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_kfree.c
index 8f14ba3fcae9..8ba96328e093 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_kfree.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_kfree.c
@@ -26,8 +26,8 @@
 /*@============================================================*/
 /*@include files*/
 /*@============================================================*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@<YuChen, 150720> Add for KFree Feature Requested by RF David.*/
 /*@This is a phydm API*/
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking.c
index 04709cabe3f8..24158143feac 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking.c
@@ -27,8 +27,8 @@
  * include files
  * ************************************************************
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 boolean
 odm_check_power_status(void *dm_void)
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ap.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ap.c
index db4276260005..01ceb14b0f1e 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ap.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ap.c
@@ -16,8 +16,8 @@
 /* ************************************************************
  * include files
  * ************************************************************ */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if !defined(_OUTSRC_COEXIST)
 /* ************************************************************
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ce.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ce.c
index 33caf5a0309f..bd43aaac9557 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ce.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_ce.c
@@ -28,8 +28,8 @@
  *============================================================
  */
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /*@************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_iot.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_iot.c
index dd6e02b3f520..e1faae5cf07e 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_iot.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_iot.c
@@ -26,8 +26,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_win.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_win.c
index 5e15b4069eb7..2c3ce2c2b090 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_win.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_powertracking_win.c
@@ -16,8 +16,8 @@
 /*============================================================	*/
 /* include files												*/
 /*============================================================	*/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 /* ************************************************************
  * Global var
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_psd.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_psd.c
index bab7d09acd0b..660fe8564d06 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_psd.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_psd.c
@@ -17,8 +17,8 @@
  * include files
  *============================================================
  */
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 u64 _sqrt(u64 x)
 {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_txgapcal.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_txgapcal.c
index 0cc44974bf3f..60a1059b2923 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_txgapcal.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/halrf_txgapcal.c
@@ -22,8 +22,8 @@
  * Larry Finger <Larry.Finger@lwfinger.net>
  *
  *****************************************************************************/
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 void odm_bub_sort(u32 *data, u32 n)
 {
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halhwimg8822c_rf.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halhwimg8822c_rf.c
index a26ca53431b9..4c75a6711d3b 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halhwimg8822c_rf.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halhwimg8822c_rf.c
@@ -24,7 +24,7 @@
  *****************************************************************************/
 
 /*Image2HeaderVersion: R3 1.5.10*/
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 
 #define ODM_WIN 0x08
 
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_8822c.c
index 3f4441313b9c..d87ca20f07ee 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_8822c.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_dpk_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_dpk_8822c.c
index 4af93262fdc7..da6f573efe54 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_dpk_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_dpk_8822c.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_iqk_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_iqk_8822c.c
index a15242b0bdd3..1a0366fab287 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_iqk_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_iqk_8822c.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_rfk_init_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_rfk_init_8822c.c
index 79430b096148..e4158c55d73e 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_rfk_init_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_rfk_init_8822c.c
@@ -13,7 +13,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_tssi_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_tssi_8822c.c
index 96ffed864d7c..54c47d5ef960 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_tssi_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_tssi_8822c.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_txgapk_8822c.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_txgapk_8822c.c
index 74ea6db23004..26af7fc90e1f 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_txgapk_8822c.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/halrf/rtl8822c/halrf_txgapk_8822c.c
@@ -23,7 +23,7 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
+#include "../../mp_precomp.h"
 #if (DM_ODM_SUPPORT_TYPE == ODM_WIN)
 #if RT_PLATFORM == PLATFORM_MACOSX
 #include "phydm_precomp.h"
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/halcomtxbf.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/halcomtxbf.c
index ae45a5b1a61a..844286e0f0cd 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/halcomtxbf.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/halcomtxbf.c
@@ -18,7 +18,7 @@
  * This file is for TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8192e.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8192e.c
index daac3e58aa3b..262bf791e9d2 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8192e.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8192e.c
@@ -18,7 +18,7 @@
  * This file is for 8192E TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8814a.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8814a.c
index 7ad6ca909b49..0f4d0ba8622d 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8814a.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8814a.c
@@ -19,7 +19,7 @@
  *
  * ************************************************************ */
 
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8822b.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8822b.c
index a1d35c9b178d..15dd4db80ac2 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8822b.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbf8822b.c
@@ -19,8 +19,8 @@
 /*                                                           @*/
 /*@============================================================*/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (RTL8822B_SUPPORT == 1)
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfinterface.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfinterface.c
index c125fecadc6a..5c36a09eb90a 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfinterface.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfinterface.c
@@ -18,7 +18,7 @@
  * This file is for TXBF interface mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfjaguar.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfjaguar.c
index 6f1892837ada..f63f5a0a5388 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfjaguar.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/haltxbfjaguar.c
@@ -18,7 +18,7 @@
  * This file is for 8812/8821/8811 TXBF mechanism
  *
  ************************************************************/
-#include "mp_precomp.h"
+#include "../mp_precomp.h"
 #include "../phydm_precomp.h"
 
 #ifdef PHYDM_BEAMFORMING_SUPPORT
diff --git a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/phydm_hal_txbf_api.c b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/phydm_hal_txbf_api.c
index 1ddb39af79b1..63f5f660b841 100755
--- a/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/phydm_hal_txbf_api.c
+++ b/drivers/net/wireless/rtl88x2cs/hal/phydm/txbf/phydm_hal_txbf_api.c
@@ -13,8 +13,8 @@
  *
  *****************************************************************************/
 
-#include "mp_precomp.h"
-#include "phydm_precomp.h"
+#include "../mp_precomp.h"
+#include "../phydm_precomp.h"
 
 #if (defined(CONFIG_BB_TXBF_API))
 #if (RTL8822B_SUPPORT == 1 || RTL8192F_SUPPORT == 1 ||\
diff --git a/drivers/net/wireless/rtl88x2cs/include/rtw_recv.h b/drivers/net/wireless/rtl88x2cs/include/rtw_recv.h
index 09cb70ecb7a6..3beb04eab7b9 100755
--- a/drivers/net/wireless/rtl88x2cs/include/rtw_recv.h
+++ b/drivers/net/wireless/rtl88x2cs/include/rtw_recv.h
@@ -772,7 +772,7 @@ __inline static union recv_frame *rxmem_to_recvframe(u8 *rxmem)
 __inline static union recv_frame *pkt_to_recvframe(_pkt *pkt)
 {
 
-	u8 *buf_star;
+	u8 *buf_star = NULL;
 	union recv_frame *precv_frame;
 	precv_frame = rxmem_to_recvframe((unsigned char *)buf_star);
 
